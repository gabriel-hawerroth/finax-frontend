<div
  [ngClass]="{
    'dark-page': utils.getUserConfigs.theme === 'dark'
  }"
  class="simple-page"
>
  <h1 class="page-title">
    {{ "credit-cards.title" | translate }}
  </h1>

  <div class="content">
    <mat-card class="card">
      <div class="card-header">
        <mat-form-field>
          <mat-label>
            {{ "filters.filter-by" | translate }}
            {{ "filters.situation" | translate }}
          </mat-label>

          <mat-select
            [formControl]="situationFilter"
            (valueChange)="filterList($event)"
          >
            <mat-option value="all">
              {{ "filters.all" | translate }}
            </mat-option>
            <mat-option [value]="true">
              {{ "filters.actives" | translate }}
            </mat-option>
            <mat-option [value]="false">
              {{ "filters.inactives" | translate }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <app-buttons
          [showNew]="true"
          [labelNewM]="true"
          (onNew)="onNew()"
        ></app-buttons>
      </div>

      @defer (when finishedFetchingCards()) { @if (errorFetchingCards()) {
      <div class="empty">
        <span style="font-size: 1.5rem; margin-bottom: 4rem">
          {{ "credit-cards.error-getting-cards" | translate }}
        </span>
      </div>
      } @else {
      <!---->
      @if (filteredRows().length) {
      <app-credit-cards-list
        [creditCards]="filteredRows()"
      ></app-credit-cards-list>
      } @else {
      <div class="empty">
        <span style="font-size: 1.5rem; margin-bottom: 4rem">
          {{ "credit-cards.empty-credit-cards" | translate }}
        </span>
      </div>
      } } }
    </mat-card>
  </div>
</div>
